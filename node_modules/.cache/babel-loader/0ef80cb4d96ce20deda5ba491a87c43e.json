{"ast":null,"code":"var _jsxFileName = \"/home/snoopsis/nodeSites/lebrownie/client/src/context/carrinho/CarrinhoState.js\";\nimport React, { useReducer } from \"react\"; // import axios from \"axios\";\n\nimport CarrinhoContext from \"./CarrinhoContext\";\nimport CarrinhoReducer from \"./CarrinhoReducer\";\nimport { GET_PRODUTOS, ADD_PRODUCT_CART, REMOVE_PRODUCT_CART, UPDATE_CART, REMOVE_ALL_CART, GET_CARRINHO, DECREASE_ITEM } from \"../types\";\n\nconst CarrinhoState = props => {\n  const initialState = {\n    produtos: [{\n      id: 1,\n      nome: \"Trio Maravilha\",\n      desc: \"Delicioso Brownie Tradicional em Tripla\",\n      img: \"https://img.elo7.com.br/product/zoom/1EBEC6F/mini-brownie-bolo.jpg\",\n      valor: 15,\n      quantidade: 1,\n      carrinho: false\n    }, {\n      id: 2,\n      nome: \"Brownie Caramelo\",\n      desc: \"Recheado de Caramelo Salgado\",\n      img: \"https://i1.wp.com/comsaborperfeito.com/wp-content/uploads/2017/07/brownie-recheado-de-caramelo.jpg?fit=700%2C467&ssl=1\",\n      valor: 1,\n      quantidade: 1,\n      carrinho: false\n    }, {\n      id: 3,\n      nome: \"Negao\",\n      desc: \"Brownie Meio Amargo, Chocolate Intenso.\",\n      img: \"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTZJlBk1_nUvG3crMqSiYdKgnyo4Q0sc2h5Gib2cmZIMrmfoPmH&usqp=CAU\",\n      valor: 7,\n      quantidade: 1,\n      carrinho: false\n    }, {\n      id: 4,\n      nome: \"LowCarb\",\n      desc: \"Delicioso e Sem Culpa, Brownie com Nozes\",\n      img: \"https://img.cybercook.com.br/receitas/690/brownie-low-carb-com-nozes-623x350.jpeg\",\n      valor: 9,\n      quantidade: 1,\n      carrinho: false\n    }],\n    carrinho: []\n  };\n  const [state, dispatch] = useReducer(CarrinhoReducer, initialState); // Get Produtos\n\n  const getProdutos = () => {\n    // let cart;\n    // if (localStorage.getItem(\"cart\") === null) {\n    //   cart = [];\n    // } else {\n    //   cart = JSON.parse(localStorage.getItem(\"cart\"));\n    // }\n    // let comprados = state.produtos.filter(function(item) {\n    //   return cart.map(i => i.id).indexOf(item.id);\n    // });\n    let prods = state.produtos;\n    dispatch({\n      type: GET_PRODUTOS,\n      payload: prods\n    });\n  }; // Get Carrinho\n\n\n  const getCart = () => {\n    let cart;\n\n    if (localStorage.getItem(\"cart\") === null) {\n      cart = [];\n    } else {\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\n    }\n\n    dispatch({\n      type: GET_CARRINHO,\n      payload: cart\n    });\n  }; // Add product to cart\n\n\n  const addItem = item => {\n    let cart = [];\n\n    if (localStorage.getItem(\"cart\") === null) {\n      cart = [];\n    } else {\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\n    }\n\n    let {\n      length\n    } = cart;\n    let id = length + 1;\n    const encontrado = cart.some(el => el.nome === item.nome);\n    const filtrado = cart.filter(el => el.nome === item.nome);\n    if (!encontrado) cart.push({\n      id,\n      nome: item.nome,\n      quantidade: 1,\n      desc: item.desc,\n      img: item.img,\n      valor: item.valor,\n      carrinho: item.carrinho\n    });\n\n    if (encontrado) {\n      cart.pop();\n      cart.push({\n        id: filtrado[0].id,\n        nome: filtrado[0].nome,\n        quantidade: filtrado[0].quantidade + 1,\n        desc: item.desc,\n        img: item.img,\n        valor: item.valor,\n        carrinho: item.carrinho\n      });\n    } // cart.push(item);\n\n\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n    dispatch({\n      type: ADD_PRODUCT_CART,\n      payload: cart\n    });\n  }; // Remove product from cart\n\n\n  const remCart = item => {\n    let cart;\n\n    if (localStorage.getItem(\"cart\") === null) {\n      cart = [];\n    } else {\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\n    }\n\n    cart.forEach(function (tarefa, index) {\n      if (item.id === tarefa.id) {\n        cart.splice(index, 1);\n      }\n    });\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n    dispatch({\n      type: REMOVE_PRODUCT_CART,\n      payload: item\n    });\n  }; // Decrease Product Quantity\n\n\n  const decreaseItem = item => {\n    let cart = [];\n\n    if (localStorage.getItem(\"cart\") === null) {\n      cart = [];\n    } else {\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\n    }\n\n    const encontrado = cart.some(el => el.nome === item.nome);\n    const filtrado = cart.filter(el => el.nome === item.nome);\n\n    if (encontrado) {\n      cart.pop();\n      cart.push({\n        id: filtrado[0].id,\n        nome: filtrado[0].nome,\n        quantidade: filtrado[0].quantidade > 1 && filtrado[0].quantidade - 1,\n        desc: item.desc,\n        img: item.img,\n        valor: item.valor,\n        carrinho: item.carrinho < 1 && false\n      });\n    } // cart.push(item);\n\n\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n    dispatch({\n      type: DECREASE_ITEM,\n      payload: cart\n    });\n  }; // Remove all products from cart\n\n\n  const remAllCart = () => {\n    localStorage.removeItem(\"cart\");\n    dispatch({\n      type: REMOVE_ALL_CART\n    });\n  }; // Atualiza Carrinho\n\n\n  const updateItem = carrinho => {\n    dispatch({\n      type: UPDATE_CART,\n      payload: carrinho\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(CarrinhoContext.Provider, {\n    value: {\n      produtos: state.produtos,\n      carrinho: state.carrinho,\n      getProdutos,\n      remAllCart,\n      addItem,\n      remCart,\n      updateItem,\n      getCart,\n      decreaseItem\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 5\n    }\n  }, props.children);\n};\n\nexport default CarrinhoState;","map":{"version":3,"sources":["/home/snoopsis/nodeSites/lebrownie/client/src/context/carrinho/CarrinhoState.js"],"names":["React","useReducer","CarrinhoContext","CarrinhoReducer","GET_PRODUTOS","ADD_PRODUCT_CART","REMOVE_PRODUCT_CART","UPDATE_CART","REMOVE_ALL_CART","GET_CARRINHO","DECREASE_ITEM","CarrinhoState","props","initialState","produtos","id","nome","desc","img","valor","quantidade","carrinho","state","dispatch","getProdutos","prods","type","payload","getCart","cart","localStorage","getItem","JSON","parse","addItem","item","length","encontrado","some","el","filtrado","filter","push","pop","setItem","stringify","remCart","forEach","tarefa","index","splice","decreaseItem","remAllCart","removeItem","updateItem","children"],"mappings":"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","sourcesContent":["import React, { useReducer } from \"react\";\r\n// import axios from \"axios\";\r\nimport CarrinhoContext from \"./CarrinhoContext\";\r\nimport CarrinhoReducer from \"./CarrinhoReducer\";\r\nimport {\r\n  GET_PRODUTOS,\r\n  ADD_PRODUCT_CART,\r\n  REMOVE_PRODUCT_CART,\r\n  UPDATE_CART,\r\n  REMOVE_ALL_CART,\r\n  GET_CARRINHO,\r\n  DECREASE_ITEM\r\n} from \"../types\";\r\n\r\nconst CarrinhoState = props => {\r\n  const initialState = {\r\n    produtos: [\r\n      {\r\n        id: 1,\r\n        nome: \"Trio Maravilha\",\r\n        desc: \"Delicioso Brownie Tradicional em Tripla\",\r\n        img:\r\n          \"https://img.elo7.com.br/product/zoom/1EBEC6F/mini-brownie-bolo.jpg\",\r\n        valor: 15,\r\n        quantidade: 1,\r\n        carrinho: false\r\n      },\r\n      {\r\n        id: 2,\r\n        nome: \"Brownie Caramelo\",\r\n        desc: \"Recheado de Caramelo Salgado\",\r\n        img:\r\n          \"https://i1.wp.com/comsaborperfeito.com/wp-content/uploads/2017/07/brownie-recheado-de-caramelo.jpg?fit=700%2C467&ssl=1\",\r\n        valor: 1,\r\n        quantidade: 1,\r\n        carrinho: false\r\n      },\r\n      {\r\n        id: 3,\r\n        nome: \"Negao\",\r\n        desc: \"Brownie Meio Amargo, Chocolate Intenso.\",\r\n        img:\r\n          \"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTZJlBk1_nUvG3crMqSiYdKgnyo4Q0sc2h5Gib2cmZIMrmfoPmH&usqp=CAU\",\r\n        valor: 7,\r\n        quantidade: 1,\r\n        carrinho: false\r\n      },\r\n      {\r\n        id: 4,\r\n        nome: \"LowCarb\",\r\n        desc: \"Delicioso e Sem Culpa, Brownie com Nozes\",\r\n        img:\r\n          \"https://img.cybercook.com.br/receitas/690/brownie-low-carb-com-nozes-623x350.jpeg\",\r\n        valor: 9,\r\n        quantidade: 1,\r\n        carrinho: false\r\n      }\r\n    ],\r\n    carrinho: []\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(CarrinhoReducer, initialState);\r\n\r\n  // Get Produtos\r\n  const getProdutos = () => {\r\n    // let cart;\r\n    // if (localStorage.getItem(\"cart\") === null) {\r\n    //   cart = [];\r\n    // } else {\r\n    //   cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    // }\r\n\r\n    // let comprados = state.produtos.filter(function(item) {\r\n    //   return cart.map(i => i.id).indexOf(item.id);\r\n    // });\r\n\r\n    let prods = state.produtos;\r\n\r\n    dispatch({\r\n      type: GET_PRODUTOS,\r\n      payload: prods\r\n    });\r\n  };\r\n\r\n  // Get Carrinho\r\n  const getCart = () => {\r\n    let cart;\r\n    if (localStorage.getItem(\"cart\") === null) {\r\n      cart = [];\r\n    } else {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n\r\n    dispatch({\r\n      type: GET_CARRINHO,\r\n      payload: cart\r\n    });\r\n  };\r\n\r\n  // Add product to cart\r\n  const addItem = item => {\r\n    let cart = [];\r\n\r\n    if (localStorage.getItem(\"cart\") === null) {\r\n      cart = [];\r\n    } else {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n    let { length } = cart;\r\n    let id = length + 1;\r\n\r\n    const encontrado = cart.some(el => el.nome === item.nome);\r\n    const filtrado = cart.filter(el => el.nome === item.nome);\r\n\r\n    if (!encontrado)\r\n      cart.push({\r\n        id,\r\n        nome: item.nome,\r\n        quantidade: 1,\r\n        desc: item.desc,\r\n        img: item.img,\r\n        valor: item.valor,\r\n        carrinho: item.carrinho\r\n      });\r\n    if (encontrado) {\r\n      cart.pop();\r\n      cart.push({\r\n        id: filtrado[0].id,\r\n        nome: filtrado[0].nome,\r\n        quantidade: filtrado[0].quantidade + 1,\r\n        desc: item.desc,\r\n        img: item.img,\r\n        valor: item.valor,\r\n        carrinho: item.carrinho\r\n      });\r\n    }\r\n\r\n    // cart.push(item);\r\n\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    dispatch({\r\n      type: ADD_PRODUCT_CART,\r\n      payload: cart\r\n    });\r\n  };\r\n\r\n  // Remove product from cart\r\n  const remCart = item => {\r\n    let cart;\r\n    if (localStorage.getItem(\"cart\") === null) {\r\n      cart = [];\r\n    } else {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n\r\n    cart.forEach(function(tarefa, index) {\r\n      if (item.id === tarefa.id) {\r\n        cart.splice(index, 1);\r\n      }\r\n    });\r\n\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n\r\n    dispatch({\r\n      type: REMOVE_PRODUCT_CART,\r\n      payload: item\r\n    });\r\n  };\r\n\r\n  // Decrease Product Quantity\r\n  const decreaseItem = item => {\r\n    let cart = [];\r\n\r\n    if (localStorage.getItem(\"cart\") === null) {\r\n      cart = [];\r\n    } else {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n\r\n    const encontrado = cart.some(el => el.nome === item.nome);\r\n    const filtrado = cart.filter(el => el.nome === item.nome);\r\n\r\n    if (encontrado) {\r\n      cart.pop();\r\n      cart.push({\r\n        id: filtrado[0].id,\r\n        nome: filtrado[0].nome,\r\n        quantidade: filtrado[0].quantidade > 1 && filtrado[0].quantidade - 1,\r\n        desc: item.desc,\r\n        img: item.img,\r\n        valor: item.valor,\r\n        carrinho: item.carrinho < 1 && false\r\n      });\r\n    }\r\n\r\n    // cart.push(item);\r\n\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    dispatch({\r\n      type: DECREASE_ITEM,\r\n      payload: cart\r\n    });\r\n  };\r\n\r\n  // Remove all products from cart\r\n  const remAllCart = () => {\r\n    localStorage.removeItem(\"cart\");\r\n    dispatch({\r\n      type: REMOVE_ALL_CART\r\n    });\r\n  };\r\n\r\n  // Atualiza Carrinho\r\n  const updateItem = carrinho => {\r\n    dispatch({\r\n      type: UPDATE_CART,\r\n      payload: carrinho\r\n    });\r\n  };\r\n\r\n  return (\r\n    <CarrinhoContext.Provider\r\n      value={{\r\n        produtos: state.produtos,\r\n        carrinho: state.carrinho,\r\n        getProdutos,\r\n        remAllCart,\r\n        addItem,\r\n        remCart,\r\n        updateItem,\r\n        getCart,\r\n        decreaseItem\r\n      }}\r\n    >\r\n      {props.children}\r\n    </CarrinhoContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CarrinhoState;\r\n"]},"metadata":{},"sourceType":"module"}