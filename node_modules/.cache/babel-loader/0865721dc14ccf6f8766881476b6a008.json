{"ast":null,"code":"import _slicedToArray from\"/home/snoopsis/nodeSites/lebrownie/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useReducer}from\"react\";// import axios from \"axios\";\nimport CarrinhoContext from\"./CarrinhoContext\";import CarrinhoReducer from\"./CarrinhoReducer\";import{GET_PRODUTOS,ADD_PRODUCT_CART,REMOVE_PRODUCT_CART,UPDATE_CART,REMOVE_ALL_CART,GET_CARRINHO,DECREASE_ITEM}from\"../types\";var CarrinhoState=function CarrinhoState(props){var initialState={produtos:[{id:1,nome:\"Trio Maravilha\",desc:\"Delicioso Brownie Tradicional em Tripla\",img:\"https://img.elo7.com.br/product/zoom/1EBEC6F/mini-brownie-bolo.jpg\",valor:15,quantidade:1,carrinho:false},{id:2,nome:\"Brownie Caramelo\",desc:\"Recheado de Caramelo Salgado\",img:\"https://i1.wp.com/comsaborperfeito.com/wp-content/uploads/2017/07/brownie-recheado-de-caramelo.jpg?fit=700%2C467&ssl=1\",valor:1,quantidade:1,carrinho:false},{id:3,nome:\"Negao\",desc:\"Brownie Meio Amargo, Chocolate Intenso.\",img:\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTZJlBk1_nUvG3crMqSiYdKgnyo4Q0sc2h5Gib2cmZIMrmfoPmH&usqp=CAU\",valor:7,quantidade:1,carrinho:false},{id:4,nome:\"LowCarb\",desc:\"Delicioso e Sem Culpa, Brownie com Nozes\",img:\"https://img.cybercook.com.br/receitas/690/brownie-low-carb-com-nozes-623x350.jpeg\",valor:9,quantidade:1,carrinho:false}],carrinho:[]};var _useReducer=useReducer(CarrinhoReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];// Get Produtos\nvar getProdutos=function getProdutos(){// let cart;\n// if (localStorage.getItem(\"cart\") === null) {\n//   cart = [];\n// } else {\n//   cart = JSON.parse(localStorage.getItem(\"cart\"));\n// }\n// let comprados = state.produtos.filter(function(item) {\n//   return cart.map(i => i.id).indexOf(item.id);\n// });\nvar prods=state.produtos;dispatch({type:GET_PRODUTOS,payload:prods});};// Get Carrinho\nvar getCart=function getCart(){var cart;if(localStorage.getItem(\"cart\")===null){cart=[];}else{cart=JSON.parse(localStorage.getItem(\"cart\"));}dispatch({type:GET_CARRINHO,payload:cart});};// Add product to cart\nvar addItem=function addItem(item){var cart=[];if(localStorage.getItem(\"cart\")===null){cart=[];}else{cart=JSON.parse(localStorage.getItem(\"cart\"));}var _cart=cart,length=_cart.length;var id=length+1;var encontrado=cart.some(function(el){return el.nome===item.nome;});var filtrado=cart.filter(function(el){return el.nome===item.nome;});if(!encontrado)cart.push({id:id,nome:item.nome,quantidade:1,desc:item.desc,img:item.img,valor:item.valor,carrinho:item.carrinho});if(encontrado){cart.pop();cart.push({id:filtrado[0].id,nome:filtrado[0].nome,quantidade:filtrado[0].quantidade+1,desc:item.desc,img:item.img,valor:item.valor,carrinho:item.carrinho});}// cart.push(item);\nlocalStorage.setItem(\"cart\",JSON.stringify(cart));dispatch({type:ADD_PRODUCT_CART,payload:cart});};// Remove product from cart\nvar remCart=function remCart(item){var cart;if(localStorage.getItem(\"cart\")===null){cart=[];}else{cart=JSON.parse(localStorage.getItem(\"cart\"));}cart.forEach(function(tarefa,index){if(item.id===tarefa.id){cart.splice(index,1);}});localStorage.setItem(\"cart\",JSON.stringify(cart));dispatch({type:REMOVE_PRODUCT_CART,payload:item});};// Decrease Product Quantity\nvar decreaseItem=function decreaseItem(item){var cart=[];if(localStorage.getItem(\"cart\")===null){cart=[];}else{cart=JSON.parse(localStorage.getItem(\"cart\"));}var encontrado=cart.some(function(el){return el.nome===item.nome;});var filtrado=cart.filter(function(el){return el.nome===item.nome;});if(encontrado){cart.pop();cart.push({id:filtrado[0].id,nome:filtrado[0].nome,quantidade:filtrado[0].quantidade>1&&filtrado[0].quantidade-1,desc:item.desc,img:item.img,valor:item.valor,carrinho:item.carrinho<1&&false});}// cart.push(item);\nlocalStorage.setItem(\"cart\",JSON.stringify(cart));dispatch({type:DECREASE_ITEM,payload:cart});};// Remove all products from cart\nvar remAllCart=function remAllCart(){localStorage.removeItem(\"cart\");dispatch({type:REMOVE_ALL_CART});};// Atualiza Carrinho\nvar updateItem=function updateItem(carrinho){dispatch({type:UPDATE_CART,payload:carrinho});};return/*#__PURE__*/React.createElement(CarrinhoContext.Provider,{value:{produtos:state.produtos,carrinho:state.carrinho,getProdutos:getProdutos,remAllCart:remAllCart,addItem:addItem,remCart:remCart,updateItem:updateItem,getCart:getCart,decreaseItem:decreaseItem}},props.children);};export default CarrinhoState;","map":{"version":3,"sources":["/home/snoopsis/nodeSites/lebrownie/client/src/context/carrinho/CarrinhoState.js"],"names":["React","useReducer","CarrinhoContext","CarrinhoReducer","GET_PRODUTOS","ADD_PRODUCT_CART","REMOVE_PRODUCT_CART","UPDATE_CART","REMOVE_ALL_CART","GET_CARRINHO","DECREASE_ITEM","CarrinhoState","props","initialState","produtos","id","nome","desc","img","valor","quantidade","carrinho","state","dispatch","getProdutos","prods","type","payload","getCart","cart","localStorage","getItem","JSON","parse","addItem","item","length","encontrado","some","el","filtrado","filter","push","pop","setItem","stringify","remCart","forEach","tarefa","index","splice","decreaseItem","remAllCart","removeItem","updateItem","children"],"mappings":"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","sourcesContent":["import React, { useReducer } from \"react\";\r\n// import axios from \"axios\";\r\nimport CarrinhoContext from \"./CarrinhoContext\";\r\nimport CarrinhoReducer from \"./CarrinhoReducer\";\r\nimport {\r\n  GET_PRODUTOS,\r\n  ADD_PRODUCT_CART,\r\n  REMOVE_PRODUCT_CART,\r\n  UPDATE_CART,\r\n  REMOVE_ALL_CART,\r\n  GET_CARRINHO,\r\n  DECREASE_ITEM\r\n} from \"../types\";\r\n\r\nconst CarrinhoState = props => {\r\n  const initialState = {\r\n    produtos: [\r\n      {\r\n        id: 1,\r\n        nome: \"Trio Maravilha\",\r\n        desc: \"Delicioso Brownie Tradicional em Tripla\",\r\n        img:\r\n          \"https://img.elo7.com.br/product/zoom/1EBEC6F/mini-brownie-bolo.jpg\",\r\n        valor: 15,\r\n        quantidade: 1,\r\n        carrinho: false\r\n      },\r\n      {\r\n        id: 2,\r\n        nome: \"Brownie Caramelo\",\r\n        desc: \"Recheado de Caramelo Salgado\",\r\n        img:\r\n          \"https://i1.wp.com/comsaborperfeito.com/wp-content/uploads/2017/07/brownie-recheado-de-caramelo.jpg?fit=700%2C467&ssl=1\",\r\n        valor: 1,\r\n        quantidade: 1,\r\n        carrinho: false\r\n      },\r\n      {\r\n        id: 3,\r\n        nome: \"Negao\",\r\n        desc: \"Brownie Meio Amargo, Chocolate Intenso.\",\r\n        img:\r\n          \"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTZJlBk1_nUvG3crMqSiYdKgnyo4Q0sc2h5Gib2cmZIMrmfoPmH&usqp=CAU\",\r\n        valor: 7,\r\n        quantidade: 1,\r\n        carrinho: false\r\n      },\r\n      {\r\n        id: 4,\r\n        nome: \"LowCarb\",\r\n        desc: \"Delicioso e Sem Culpa, Brownie com Nozes\",\r\n        img:\r\n          \"https://img.cybercook.com.br/receitas/690/brownie-low-carb-com-nozes-623x350.jpeg\",\r\n        valor: 9,\r\n        quantidade: 1,\r\n        carrinho: false\r\n      }\r\n    ],\r\n    carrinho: []\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(CarrinhoReducer, initialState);\r\n\r\n  // Get Produtos\r\n  const getProdutos = () => {\r\n    // let cart;\r\n    // if (localStorage.getItem(\"cart\") === null) {\r\n    //   cart = [];\r\n    // } else {\r\n    //   cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    // }\r\n\r\n    // let comprados = state.produtos.filter(function(item) {\r\n    //   return cart.map(i => i.id).indexOf(item.id);\r\n    // });\r\n\r\n    let prods = state.produtos;\r\n\r\n    dispatch({\r\n      type: GET_PRODUTOS,\r\n      payload: prods\r\n    });\r\n  };\r\n\r\n  // Get Carrinho\r\n  const getCart = () => {\r\n    let cart;\r\n    if (localStorage.getItem(\"cart\") === null) {\r\n      cart = [];\r\n    } else {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n\r\n    dispatch({\r\n      type: GET_CARRINHO,\r\n      payload: cart\r\n    });\r\n  };\r\n\r\n  // Add product to cart\r\n  const addItem = item => {\r\n    let cart = [];\r\n\r\n    if (localStorage.getItem(\"cart\") === null) {\r\n      cart = [];\r\n    } else {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n    let { length } = cart;\r\n    let id = length + 1;\r\n\r\n    const encontrado = cart.some(el => el.nome === item.nome);\r\n    const filtrado = cart.filter(el => el.nome === item.nome);\r\n\r\n    if (!encontrado)\r\n      cart.push({\r\n        id,\r\n        nome: item.nome,\r\n        quantidade: 1,\r\n        desc: item.desc,\r\n        img: item.img,\r\n        valor: item.valor,\r\n        carrinho: item.carrinho\r\n      });\r\n    if (encontrado) {\r\n      cart.pop();\r\n      cart.push({\r\n        id: filtrado[0].id,\r\n        nome: filtrado[0].nome,\r\n        quantidade: filtrado[0].quantidade + 1,\r\n        desc: item.desc,\r\n        img: item.img,\r\n        valor: item.valor,\r\n        carrinho: item.carrinho\r\n      });\r\n    }\r\n\r\n    // cart.push(item);\r\n\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    dispatch({\r\n      type: ADD_PRODUCT_CART,\r\n      payload: cart\r\n    });\r\n  };\r\n\r\n  // Remove product from cart\r\n  const remCart = item => {\r\n    let cart;\r\n    if (localStorage.getItem(\"cart\") === null) {\r\n      cart = [];\r\n    } else {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n\r\n    cart.forEach(function(tarefa, index) {\r\n      if (item.id === tarefa.id) {\r\n        cart.splice(index, 1);\r\n      }\r\n    });\r\n\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n\r\n    dispatch({\r\n      type: REMOVE_PRODUCT_CART,\r\n      payload: item\r\n    });\r\n  };\r\n\r\n  // Decrease Product Quantity\r\n  const decreaseItem = item => {\r\n    let cart = [];\r\n\r\n    if (localStorage.getItem(\"cart\") === null) {\r\n      cart = [];\r\n    } else {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n\r\n    const encontrado = cart.some(el => el.nome === item.nome);\r\n    const filtrado = cart.filter(el => el.nome === item.nome);\r\n\r\n    if (encontrado) {\r\n      cart.pop();\r\n      cart.push({\r\n        id: filtrado[0].id,\r\n        nome: filtrado[0].nome,\r\n        quantidade: filtrado[0].quantidade > 1 && filtrado[0].quantidade - 1,\r\n        desc: item.desc,\r\n        img: item.img,\r\n        valor: item.valor,\r\n        carrinho: item.carrinho < 1 && false\r\n      });\r\n    }\r\n\r\n    // cart.push(item);\r\n\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    dispatch({\r\n      type: DECREASE_ITEM,\r\n      payload: cart\r\n    });\r\n  };\r\n\r\n  // Remove all products from cart\r\n  const remAllCart = () => {\r\n    localStorage.removeItem(\"cart\");\r\n    dispatch({\r\n      type: REMOVE_ALL_CART\r\n    });\r\n  };\r\n\r\n  // Atualiza Carrinho\r\n  const updateItem = carrinho => {\r\n    dispatch({\r\n      type: UPDATE_CART,\r\n      payload: carrinho\r\n    });\r\n  };\r\n\r\n  return (\r\n    <CarrinhoContext.Provider\r\n      value={{\r\n        produtos: state.produtos,\r\n        carrinho: state.carrinho,\r\n        getProdutos,\r\n        remAllCart,\r\n        addItem,\r\n        remCart,\r\n        updateItem,\r\n        getCart,\r\n        decreaseItem\r\n      }}\r\n    >\r\n      {props.children}\r\n    </CarrinhoContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CarrinhoState;\r\n"]},"metadata":{},"sourceType":"module"}