{"ast":null,"code":"var _jsxFileName = \"/home/snoopsis/nodeSites/lebrownie/client/src/components/auth/Cadastro.js\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport AlertContext from \"../../context/alert/alertContext\";\nimport AuthContext from \"../../context/auth/authContext\";\nimport CarrinhoContext from \"../../context/carrinho/CarrinhoContext\";\n\nconst Cadastro = props => {\n  const alertContext = useContext(AlertContext);\n  const authContext = useContext(AuthContext);\n  const carrinhoContext = useContext(CarrinhoContext);\n  const {\n    setAlert\n  } = alertContext;\n  const {\n    register,\n    error,\n    clearErrors,\n    isAuthenticated\n  } = authContext;\n  const {\n    carrinho\n  } = carrinhoContext;\n  useEffect(() => {\n    if (error === \"Ja se Cadastrou? Esse email ja existe, tente fazer login!\") {\n      setAlert(error, \"danger\");\n      clearErrors();\n    } // eslint-disable-next-line\n\n  }, [error, isAuthenticated, props.history]);\n  const [client, setClient] = useState({\n    primeiroNome: \"\",\n    ultimoNome: \"\",\n    email: \"\",\n    telefone: \"\",\n    rua: \"\",\n    numero: \"\",\n    bairro: \"\",\n    complemento: \"\",\n    cidade: \"\",\n    estado: \"\",\n    password: \"\",\n    password2: \"\",\n    cep: \"\"\n  });\n  const {\n    primeiroNome,\n    ultimoNome,\n    email,\n    telefone,\n    rua,\n    numero,\n    bairro,\n    complemento,\n    cidade,\n    estado,\n    password,\n    password2,\n    cep\n  } = client;\n\n  const onChange = e => setClient({ ...client,\n    [e.target.name]: e.target.value\n  });\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    if (primeiroNome === \"\" || ultimoNome === \"\" || telefone === \"\" || rua === \"\" || numero === \"\" || bairro === \"\" || complemento === \"\" || cidade === \"\" || estado === \"\" || email === \"\" || password === \"\" || cep === \"\") {\n      setAlert(\"Por favor preencha todos os campos\", \"danger\");\n    } else if (password !== password2) {\n      setAlert(\"A Senha nao esta igual na confirmacao, digite de novo por favor.\", \"danger\");\n    } else {\n      register({\n        primeiroNome,\n        ultimoNome,\n        email,\n        telefone,\n        rua,\n        numero,\n        bairro,\n        cep,\n        complemento,\n        cidade,\n        estado,\n        password\n      });\n    }\n  };\n\n  function limpa_formulário_cep() {\n    //Limpa valores do formulário de cep.\n    document.getElementById(\"rua\").value = \"\";\n    document.getElementById(\"bairro\").value = \"\";\n    document.getElementById(\"cidade\").value = \"\";\n    document.getElementById(\"uf\").value = \"\";\n  }\n\n  function meu_callback(conteudo) {\n    if (!(\"erro\" in conteudo)) {\n      //Atualiza os campos com os valores.\n      document.getElementById(\"rua\").value = conteudo.logradouro;\n      document.getElementById(\"bairro\").value = conteudo.bairro;\n      document.getElementById(\"cidade\").value = conteudo.localidade;\n      document.getElementById(\"uf\").value = conteudo.uf;\n    } //end if.\n    else {\n        //CEP não Encontrado.\n        limpa_formulário_cep();\n        alert(\"CEP não encontrado.\");\n      }\n  }\n\n  function pesquisacep(valor) {\n    //Nova variável \"cep\" somente com dígitos.\n    var cep = valor.replace(/\\D/g, \"\"); //Verifica se campo cep possui valor informado.\n\n    if (cep !== \"\") {\n      //Expressão regular para validar o CEP.\n      var validacep = /^[0-9]{8}$/; //Valida o formato do CEP.\n\n      if (validacep.test(cep)) {\n        //Preenche os campos com \"...\" enquanto consulta webservice.\n        document.getElementById(\"rua\").value = \"...\";\n        document.getElementById(\"bairro\").value = \"...\";\n        document.getElementById(\"cidade\").value = \"...\";\n        document.getElementById(\"uf\").value = \"...\"; //Cria um elemento javascript.\n\n        var script = document.createElement(\"script\"); //Sincroniza com o callback.\n\n        fetch(`https://viacep.com.br/ws/41650035/json`).then(response => response.json()).then(data => {\n          script.src = meu_callback(data);\n        }); //Insere script no documento e carrega o conteúdo.\n\n        document.body.appendChild(script);\n      } //end if.\n      else {\n          //cep é inválido.\n          limpa_formulário_cep();\n          alert(\"Formato de CEP inválido.\");\n        }\n    } //end if.\n    else {\n        //cep sem valor, limpa formulário.\n        limpa_formulário_cep();\n      }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sign-up segments-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signup-contents\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pages-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 11\n    }\n  }, carrinho.length > 0 ? \"Para continuar e comprar os seus Produtos, por favor preencha os dados abaixo:\" : /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 15\n    }\n  }, \"Cadastro\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pages-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 15\n    }\n  }, \"Ja e Cliente?\", \" \", /*#__PURE__*/React.createElement(\"strong\", {\n    style: {\n      color: \"#c62828 \"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 17\n    }\n  }, \"Faca Login\")))), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    method: \"get\",\n    action: \".\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 13\n    }\n  }, \"Primeiro Nome\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"primeiroNome\",\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }\n  }, \"Ultimo Nome\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"ultimoNome\",\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }\n  }, \"Celular\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"telefone\",\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }\n  }, \"CEP\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"cep\",\n    onChange: onChange,\n    id: \"cep\",\n    size: \"10\",\n    maxLength: \"9\",\n    onBlur: () => pesquisacep(client.cep),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }\n  }, \"Rua\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"rua\",\n    id: \"rua\",\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 13\n    }\n  }, \"Numero\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"numero\",\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }\n  }, \"Bairro\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"bairro\",\n    id: \"bairro\",\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 13\n    }\n  }, \"Complemento\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"complemento\",\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 13\n    }\n  }, \"Cidade\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"cidade\",\n    id: \"cidade\",\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 13\n    }\n  }, \"Estado\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"estado\",\n    id: \"uf\",\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 13\n    }\n  }, \"Senha\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 13\n    }\n  }, \"Confirme Senha\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password2\",\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-send\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 15\n    }\n  }), \"Salvar\")))));\n};\n\nexport default Cadastro;","map":{"version":3,"sources":["/home/snoopsis/nodeSites/lebrownie/client/src/components/auth/Cadastro.js"],"names":["React","useState","useContext","useEffect","Link","AlertContext","AuthContext","CarrinhoContext","Cadastro","props","alertContext","authContext","carrinhoContext","setAlert","register","error","clearErrors","isAuthenticated","carrinho","history","client","setClient","primeiroNome","ultimoNome","email","telefone","rua","numero","bairro","complemento","cidade","estado","password","password2","cep","onChange","e","target","name","value","onSubmit","preventDefault","limpa_formulário_cep","document","getElementById","meu_callback","conteudo","logradouro","localidade","uf","alert","pesquisacep","valor","replace","validacep","test","script","createElement","fetch","then","response","json","data","src","body","appendChild","length","color"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AlertContext from \"../../context/alert/alertContext\";\r\nimport AuthContext from \"../../context/auth/authContext\";\r\nimport CarrinhoContext from \"../../context/carrinho/CarrinhoContext\";\r\n\r\nconst Cadastro = props => {\r\n  const alertContext = useContext(AlertContext);\r\n  const authContext = useContext(AuthContext);\r\n  const carrinhoContext = useContext(CarrinhoContext);\r\n\r\n  const { setAlert } = alertContext;\r\n  const { register, error, clearErrors, isAuthenticated } = authContext;\r\n  const { carrinho } = carrinhoContext;\r\n\r\n  useEffect(() => {\r\n    if (error === \"Ja se Cadastrou? Esse email ja existe, tente fazer login!\") {\r\n      setAlert(error, \"danger\");\r\n      clearErrors();\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [error, isAuthenticated, props.history]);\r\n\r\n  const [client, setClient] = useState({\r\n    primeiroNome: \"\",\r\n    ultimoNome: \"\",\r\n    email: \"\",\r\n    telefone: \"\",\r\n    rua: \"\",\r\n    numero: \"\",\r\n    bairro: \"\",\r\n    complemento: \"\",\r\n    cidade: \"\",\r\n    estado: \"\",\r\n    password: \"\",\r\n    password2: \"\",\r\n    cep: \"\"\r\n  });\r\n\r\n  const {\r\n    primeiroNome,\r\n    ultimoNome,\r\n    email,\r\n    telefone,\r\n    rua,\r\n    numero,\r\n    bairro,\r\n    complemento,\r\n    cidade,\r\n    estado,\r\n    password,\r\n    password2,\r\n    cep\r\n  } = client;\r\n\r\n  const onChange = e =>\r\n    setClient({ ...client, [e.target.name]: e.target.value });\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n    if (\r\n      primeiroNome === \"\" ||\r\n      ultimoNome === \"\" ||\r\n      telefone === \"\" ||\r\n      rua === \"\" ||\r\n      numero === \"\" ||\r\n      bairro === \"\" ||\r\n      complemento === \"\" ||\r\n      cidade === \"\" ||\r\n      estado === \"\" ||\r\n      email === \"\" ||\r\n      password === \"\" ||\r\n      cep === \"\"\r\n    ) {\r\n      setAlert(\"Por favor preencha todos os campos\", \"danger\");\r\n    } else if (password !== password2) {\r\n      setAlert(\r\n        \"A Senha nao esta igual na confirmacao, digite de novo por favor.\",\r\n        \"danger\"\r\n      );\r\n    } else {\r\n      register({\r\n        primeiroNome,\r\n        ultimoNome,\r\n        email,\r\n        telefone,\r\n        rua,\r\n        numero,\r\n        bairro,\r\n        cep,\r\n        complemento,\r\n        cidade,\r\n        estado,\r\n        password\r\n      });\r\n    }\r\n  };\r\n\r\n  function limpa_formulário_cep() {\r\n    //Limpa valores do formulário de cep.\r\n    document.getElementById(\"rua\").value = \"\";\r\n    document.getElementById(\"bairro\").value = \"\";\r\n    document.getElementById(\"cidade\").value = \"\";\r\n    document.getElementById(\"uf\").value = \"\";\r\n  }\r\n\r\n  function meu_callback(conteudo) {\r\n    if (!(\"erro\" in conteudo)) {\r\n      //Atualiza os campos com os valores.\r\n      document.getElementById(\"rua\").value = conteudo.logradouro;\r\n      document.getElementById(\"bairro\").value = conteudo.bairro;\r\n      document.getElementById(\"cidade\").value = conteudo.localidade;\r\n      document.getElementById(\"uf\").value = conteudo.uf;\r\n    } //end if.\r\n    else {\r\n      //CEP não Encontrado.\r\n      limpa_formulário_cep();\r\n      alert(\"CEP não encontrado.\");\r\n    }\r\n  }\r\n\r\n  function pesquisacep(valor) {\r\n    //Nova variável \"cep\" somente com dígitos.\r\n    var cep = valor.replace(/\\D/g, \"\");\r\n\r\n    //Verifica se campo cep possui valor informado.\r\n    if (cep !== \"\") {\r\n      //Expressão regular para validar o CEP.\r\n      var validacep = /^[0-9]{8}$/;\r\n\r\n      //Valida o formato do CEP.\r\n      if (validacep.test(cep)) {\r\n        //Preenche os campos com \"...\" enquanto consulta webservice.\r\n        document.getElementById(\"rua\").value = \"...\";\r\n        document.getElementById(\"bairro\").value = \"...\";\r\n        document.getElementById(\"cidade\").value = \"...\";\r\n        document.getElementById(\"uf\").value = \"...\";\r\n\r\n        //Cria um elemento javascript.\r\n        var script = document.createElement(\"script\");\r\n\r\n        //Sincroniza com o callback.\r\n        fetch(`https://viacep.com.br/ws/41650035/json`)\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            script.src = meu_callback(data);\r\n          });\r\n\r\n        //Insere script no documento e carrega o conteúdo.\r\n        document.body.appendChild(script);\r\n      } //end if.\r\n      else {\r\n        //cep é inválido.\r\n        limpa_formulário_cep();\r\n        alert(\"Formato de CEP inválido.\");\r\n      }\r\n    } //end if.\r\n    else {\r\n      //cep sem valor, limpa formulário.\r\n      limpa_formulário_cep();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"sign-up segments-page\">\r\n      <div className=\"container\">\r\n        <div className=\"signup-contents\">\r\n          <div className=\"pages-title\">\r\n            {carrinho.length > 0 ? (\r\n              \"Para continuar e comprar os seus Produtos, por favor preencha os dados abaixo:\"\r\n            ) : (\r\n              <h3>Cadastro</h3>\r\n            )}\r\n            <div className=\"line\"></div>\r\n          </div>\r\n          {}\r\n          <Link to=\"/login\">\r\n            <div className=\"pages-title\">\r\n              <h3>\r\n                Ja e Cliente?{\" \"}\r\n                <strong style={{ color: \"#c62828 \" }}>Faca Login</strong>\r\n              </h3>\r\n            </div>\r\n          </Link>\r\n          <form onSubmit={onSubmit} method=\"get\" action=\".\">\r\n            <label>Primeiro Nome</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"primeiroNome\"\r\n              onChange={onChange}\r\n              required\r\n            />\r\n            <label>Ultimo Nome</label>\r\n            <input type=\"text\" name=\"ultimoNome\" onChange={onChange} required />\r\n            <label>Email</label>\r\n            <input type=\"email\" name=\"email\" onChange={onChange} required />\r\n            <label>Celular</label>\r\n            <input type=\"text\" name=\"telefone\" onChange={onChange} required />\r\n            <label>CEP</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"cep\"\r\n              onChange={onChange}\r\n              id=\"cep\"\r\n              size=\"10\"\r\n              maxLength=\"9\"\r\n              onBlur={() => pesquisacep(client.cep)}\r\n              required\r\n            />\r\n            <label>Rua</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"rua\"\r\n              id=\"rua\"\r\n              onChange={onChange}\r\n              required\r\n            />\r\n            <label>Numero</label>\r\n            <input type=\"text\" name=\"numero\" onChange={onChange} required />\r\n            <label>Bairro</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"bairro\"\r\n              id=\"bairro\"\r\n              onChange={onChange}\r\n              required\r\n            />\r\n            <label>Complemento</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"complemento\"\r\n              onChange={onChange}\r\n              required\r\n            />\r\n            <label>Cidade</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"cidade\"\r\n              id=\"cidade\"\r\n              onChange={onChange}\r\n              required\r\n            />\r\n            <label>Estado</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"estado\"\r\n              id=\"uf\"\r\n              onChange={onChange}\r\n              required\r\n            />\r\n            <label>Senha</label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              onChange={onChange}\r\n              required\r\n            />\r\n            <label>Confirme Senha</label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password2\"\r\n              onChange={onChange}\r\n              required\r\n            />\r\n            <button type=\"submit\" className=\"btn\">\r\n              <i className=\"fa fa-send\"></i>Salvar\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cadastro;\r\n"]},"metadata":{},"sourceType":"module"}