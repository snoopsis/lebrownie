{"ast":null,"code":"var _jsxFileName = \"/home/snoopsis/nodeSites/lebrownie/client/src/components/views/Dados.js\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport AlertContext from \"../../context/alert/alertContext\";\nimport AuthContext from \"../../context/auth/authContext\";\n\nconst Dados = props => {\n  const alertContext = useContext(AlertContext);\n  const authContext = useContext(AuthContext);\n  const {\n    setAlert\n  } = alertContext;\n  const {\n    updateClient,\n    error,\n    isAuthenticated,\n    updateDados,\n    client,\n    updatePassword\n  } = authContext;\n  useEffect(() => {\n    if (!isAuthenticated) {\n      props.history.push(\"/\");\n    } // eslint-disable-next-line\n\n  }, [error, isAuthenticated, props.history]);\n  const [novaSenha, setNovaSenha] = useState([]);\n\n  const onChange = e => {\n    updateClient({ ...client,\n      [e.target.name]: e.target.value\n    });\n    setNovaSenha({ ...novaSenha,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const verificaMudanca = () => {\n    if (novaSenha.pass1 !== novaSenha.pass2) {\n      setAlert(\"A Senha Nao esta Igual, Confira e Digite Novamente.\", \"danger\");\n    } else {\n      return novaSenha.pass1;\n    }\n  };\n\n  const alteraDados = e => {\n    e.preventDefault();\n    let atualiza = {\n      _id: client._id,\n      primeiroNome: client.primeiroNome,\n      ultimoNome: client.ultimoNome,\n      email: client.email,\n      telefone: client.telefone,\n      rua: client.rua,\n      bairro: client.bairro,\n      complemento: client.complemento,\n      cidade: client.cidade,\n      estado: client.estado,\n      cep: client.cep\n    };\n    updateDados(atualiza);\n    props.history.push(\"/\");\n  };\n\n  const alteraSenha = e => {\n    e.preventDefault();\n\n    if (verificaMudanca()) {\n      setNovaSenha(verificaMudanca());\n      let atualiza = {\n        _id: client._id,\n        primeiroNome: client.primeiroNome,\n        ultimoNome: client.ultimoNome,\n        email: client.email,\n        telefone: client.telefone,\n        rua: client.rua,\n        bairro: client.bairro,\n        complemento: client.complemento,\n        cidade: client.cidade,\n        estado: client.estado,\n        password: novaSenha.pass1,\n        cep: client.cep\n      };\n      updatePassword(atualiza);\n      props.history.push(\"/\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sign-up segments-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signup-contents\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pages-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, \"Meus Dados Pessoais\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: alteraDados,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, \"Primeiro Nome\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"primeiroNome\",\n    value: client.primeiroNome,\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, \"Ultimo Nome\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"ultimoNome\",\n    value: client.ultimoNome,\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    value: client.email,\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, \"Celular\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"telefone\",\n    value: client.telefone,\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, \"Cep\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"cep\",\n    value: client.cep,\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }, \"Rua\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"rua\",\n    value: client.rua,\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, \"Numero\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"numero\",\n    value: client.numero,\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, \"Bairro\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"bairro\",\n    value: client.bairro,\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }, \"Complemento\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"complemento\",\n    value: client.complemento,\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }, \"Cidade\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"cidade\",\n    value: client.cidade,\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }\n  }, \"Estado\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"estado\",\n    value: client.estado,\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col sm12 center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn center\",\n    style: {\n      height: 33\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-save\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 17\n    }\n  }), \"Atualizar Meus Dados\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pages-title\",\n    style: {\n      marginTop: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }\n  }, \"Trocar a Senha\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: alteraSenha,\n    className: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"pass1\",\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"pass2\",\n    onChange: onChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn center\",\n    style: {\n      height: 33\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-key\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 15\n    }\n  }), \" Atualizar Senha\")))));\n};\n\nexport default Dados;","map":{"version":3,"sources":["/home/snoopsis/nodeSites/lebrownie/client/src/components/views/Dados.js"],"names":["React","useContext","useEffect","useState","AlertContext","AuthContext","Dados","props","alertContext","authContext","setAlert","updateClient","error","isAuthenticated","updateDados","client","updatePassword","history","push","novaSenha","setNovaSenha","onChange","e","target","name","value","verificaMudanca","pass1","pass2","alteraDados","preventDefault","atualiza","_id","primeiroNome","ultimoNome","email","telefone","rua","bairro","complemento","cidade","estado","cep","alteraSenha","password","numero","height","marginTop"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport AlertContext from \"../../context/alert/alertContext\";\r\nimport AuthContext from \"../../context/auth/authContext\";\r\n\r\nconst Dados = props => {\r\n  const alertContext = useContext(AlertContext);\r\n  const authContext = useContext(AuthContext);\r\n\r\n  const { setAlert } = alertContext;\r\n  const {\r\n    updateClient,\r\n    error,\r\n    isAuthenticated,\r\n    updateDados,\r\n    client,\r\n    updatePassword\r\n  } = authContext;\r\n\r\n  useEffect(() => {\r\n    if (!isAuthenticated) {\r\n      props.history.push(\"/\");\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [error, isAuthenticated, props.history]);\r\n\r\n  const [novaSenha, setNovaSenha] = useState([]);\r\n\r\n  const onChange = e => {\r\n    updateClient({ ...client, [e.target.name]: e.target.value });\r\n    setNovaSenha({ ...novaSenha, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const verificaMudanca = () => {\r\n    if (novaSenha.pass1 !== novaSenha.pass2) {\r\n      setAlert(\"A Senha Nao esta Igual, Confira e Digite Novamente.\", \"danger\");\r\n    } else {\r\n      return novaSenha.pass1;\r\n    }\r\n  };\r\n\r\n  const alteraDados = e => {\r\n    e.preventDefault();\r\n\r\n    let atualiza = {\r\n      _id: client._id,\r\n      primeiroNome: client.primeiroNome,\r\n      ultimoNome: client.ultimoNome,\r\n      email: client.email,\r\n      telefone: client.telefone,\r\n      rua: client.rua,\r\n      bairro: client.bairro,\r\n      complemento: client.complemento,\r\n      cidade: client.cidade,\r\n      estado: client.estado,\r\n      cep: client.cep\r\n    };\r\n\r\n    updateDados(atualiza);\r\n    props.history.push(\"/\");\r\n  };\r\n\r\n  const alteraSenha = e => {\r\n    e.preventDefault();\r\n    if (verificaMudanca()) {\r\n      setNovaSenha(verificaMudanca());\r\n      let atualiza = {\r\n        _id: client._id,\r\n        primeiroNome: client.primeiroNome,\r\n        ultimoNome: client.ultimoNome,\r\n        email: client.email,\r\n        telefone: client.telefone,\r\n        rua: client.rua,\r\n        bairro: client.bairro,\r\n        complemento: client.complemento,\r\n        cidade: client.cidade,\r\n        estado: client.estado,\r\n        password: novaSenha.pass1,\r\n        cep: client.cep\r\n      };\r\n      updatePassword(atualiza);\r\n      props.history.push(\"/\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"sign-up segments-page\">\r\n      <div className=\"container\">\r\n        <div className=\"signup-contents\">\r\n          <div className=\"pages-title\">\r\n            <h3>Meus Dados Pessoais</h3>\r\n          </div>\r\n          <form onSubmit={alteraDados}>\r\n            <label>Primeiro Nome</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"primeiroNome\"\r\n              value={client.primeiroNome}\r\n              onChange={onChange}\r\n              required\r\n            />\r\n            <label>Ultimo Nome</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"ultimoNome\"\r\n              value={client.ultimoNome}\r\n              onChange={onChange}\r\n              required\r\n            />\r\n            <label>Email</label>\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={client.email}\r\n              onChange={onChange}\r\n              required\r\n            />\r\n            <label>Celular</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"telefone\"\r\n              value={client.telefone}\r\n              onChange={onChange}\r\n              required\r\n            />\r\n            <label>Cep</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"cep\"\r\n              value={client.cep}\r\n              onChange={onChange}\r\n              required\r\n            />\r\n            <label>Rua</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"rua\"\r\n              value={client.rua}\r\n              onChange={onChange}\r\n              required\r\n            />\r\n            <label>Numero</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"numero\"\r\n              value={client.numero}\r\n              onChange={onChange}\r\n              required\r\n            />\r\n            <label>Bairro</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"bairro\"\r\n              value={client.bairro}\r\n              onChange={onChange}\r\n              required\r\n            />\r\n            <label>Complemento</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"complemento\"\r\n              value={client.complemento}\r\n              onChange={onChange}\r\n              required\r\n            />\r\n            <label>Cidade</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"cidade\"\r\n              value={client.cidade}\r\n              onChange={onChange}\r\n              required\r\n            />\r\n            <label>Estado</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"estado\"\r\n              value={client.estado}\r\n              onChange={onChange}\r\n              required\r\n            />\r\n            <div className=\"col sm12 center\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"btn center\"\r\n                style={{ height: 33 }}\r\n              >\r\n                <i className=\"fa fa-save\"></i>Atualizar Meus Dados\r\n              </button>\r\n            </div>\r\n          </form>\r\n          <div className=\"pages-title\" style={{ marginTop: 20 }}>\r\n            <h3>Trocar a Senha</h3>\r\n          </div>\r\n          <form onSubmit={alteraSenha} className=\"center\">\r\n            <input type=\"password\" name=\"pass1\" onChange={onChange} required />\r\n            <input type=\"password\" name=\"pass2\" onChange={onChange} required />\r\n            <button type=\"submit\" className=\"btn center\" style={{ height: 33 }}>\r\n              <i className=\"fa fa-key\"></i> Atualizar Senha\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dados;\r\n"]},"metadata":{},"sourceType":"module"}